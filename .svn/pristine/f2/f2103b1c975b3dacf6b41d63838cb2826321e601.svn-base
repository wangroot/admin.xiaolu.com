<?php

use yii\helpers\Html;
use app\components\HodoActiveForm;
use app\modules\adsplatform\models\Datadict;
use yii\helpers\Url;
use app\modules\adsplatform\models\Position;
/* @var $this yii\web\View */
/* @var $model app\modules\adsplatform\models\Ad */
/* @var $form app\components\HodoActiveForm */
?>

<div class="game-form">

    <?php $form = HodoActiveForm::begin([
    ]); ?>
    <?= $form->dropDownList($model, 'provider', [], Datadict::getDataList('ad_provider')) ?>

    <?=
    $form->select2($model, 'position_id',[
        'language' => Yii::$app->language,
        'data' => Position::getList() ,
        'options' => [],
        'pluginOptions' => [
            'allowClear' => true,
            'multiple' => false
        ],
    ]);
    ?>

    <?= $form->dropDownList($model, 'type', [], Datadict::getDataList('ad_type')) ?>
    <?= $form->dropDownList($model, 'target', [], Datadict::getDataList('ad_target'), ['id' => 'ad_targets']) ?>
    <?= $form->textInput($model, 'title') ?>
    <?= $form->textInput($model, 'subtitle',[], []) ?>
    <?= $form->textInput($model, 'detail') ?>
    <?= $form->textInput($model, 'image') ?>
    <?= $form->textInput($model, 'image_vertical') ?>
    <?php /* $form->fileInput($model, 'image',[], [
        'options' => [
            'accept' => 'image/*',
            'multiple' => false
        ],
        'pluginOptions' => [
            'uploadUrl' => Url::to(['upload-file/index']),
            'uploadAsync' => true,
            'minFileCount' => 1,
            'maxFileCount' => 1,
            'overwriteInitial' => false,
            'uploadExtraData' => [
                'm' => 'Game',
                'name' => 'icon'
            ],
            'showUpload' => true,
            'browseLabel' => '',
           // 'initialPreview' => [],//$model->Select2Init('icon')['initialPreview'],
            //'initialPreviewConfig'=> //$model->Select2Init('icon')['initialPreviewConfig'],
        ],
    ]) */ ?>
    <?php /* $form->fileInput($model, 'image_vertical',[], [
        'options' => [
            'accept' => 'image/*',
            'multiple' => false
        ],
        'pluginOptions' => [
            'uploadUrl' => Url::to(['upload-file/index']),
            'uploadAsync' => true,
            'minFileCount' => 1,
            'maxFileCount' => 1,
            'overwriteInitial' => false,
            'uploadExtraData' => [
                'm' => 'Game',
                'name' => 'icon'
            ],
            'showUpload' => true,
            'browseLabel' => '',
           // 'initialPreview' => [],//$model->Select2Init('icon')['initialPreview'],
            //'initialPreviewConfig'=> //$model->Select2Init('icon')['initialPreviewConfig'],
        ],
    ])*/ ?>
    <?= $form->textInput($model, 'link') ?>
    <?= $form->textInput($model, 'package_name') ?>
    <?= $form->textInput($model, 'version_code') ?>
    <?= $form->textInput($model, 'app_id') ?>
    <?= $form->textInput($model, 'ad_id') ?>

    <?= $form->textInput($model, 'start_time', [], ['placeholder'=>'2016-04-18 00:00:00']) ?>
    <?= $form->textInput($model, 'end_time', [], ['placeholder'=>'2016-04-18 00:00:00']) ?>
    <?= $form->textInput($model, 'show_time') ?>

    <?= $form->dropDownList($model, 'collect_data', [], Datadict::getDataList('ad_collect_data')) ?>
    <?= $form->textInput($model, 'ceiling_view') ?>
    <?= $form->textInput($model, 'ceiling_day_click') ?>
    <?= $form->textInput($model, 'ceiling_total_view') ?>
    <?= $form->textInput($model, 'ceiling_total_click') ?>

    <?= $form->dropDownList($model, 'status', [], Datadict::getDataList('ad_status')) ?>

    <div class="form-group">
        <?= Html::submitButton($model->isNewRecord ? '创建' : '更新', ['class' => $model->isNewRecord ? 'btn btn-success' : 'btn btn-primary']) ?>
    </div>

    <?php HodoActiveForm::end(); ?>

</div>

